<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.or.picsion.comment.dao.CommentDao">
	<!-- 요청글에 대한 댓글리스트 가져오기 -->
	<select id="commentList" resultType="kr.or.picsion.comment.dto.Comment">
	  select * from COMMENTS where brdNo=#{brdNo}
	</select>

	<!-- 사진에 대한 댓글리스트 가져오기 -->
	<select id="picCommentList" resultType="kr.or.picsion.comment.dto.Comment">
		SELECT * FROM COMMENTS WHERE picNo=#{picNo}
	</select>
	<!-- 요청글 댓글 쓰기  -->	
	<insert id="insertComment" parameterType="kr.or.picsion.comment.dto.Comment">
	insert into COMMENTS (cmtContent,userNo,brdNo,tableNo) values (#{cmtContent},#{userNo},#{brdNo},#{tableNo})
	</insert>

	<!-- 사진에 대한 댓글 저장 -->	
	<insert id="picInsertComment" parameterType="kr.or.picsion.comment.dto.Comment">
	insert into COMMENTS (cmtContent,userNo,picNo,tableNo) values (#{cmtContent},#{userNo},#{picNo},#{tableNo})
	</insert>
	<!-- 작업중 댓글 삭제  -->	
	<delete id="deleteAllComment" parameterType="Integer">
		delete from COMMENTS where brdNo=#{brdNo}
	</delete>

</mapper>